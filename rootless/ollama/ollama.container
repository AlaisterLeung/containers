[Unit]
Description=Ollama with Vulkan support

[Container]
ContainerName=ollama
Image=docker.io/ollama/ollama:latest
Network=open-webui.network
PublishPort=7869:11434
Environment=OLLAMA_VULKAN=1
# Do not back up due to huge disk usage of LLMs!
Volume=ollama:/root/.ollama
AddDevice=/dev/dri
AddDevice=/dev/kfd
PodmanArgs=--cpus=4 -m=8g
AutoUpdate=registry

[Service]
Restart=always
RestartSec=5
TimeoutStartSec=900

[Install]
WantedBy=default.target
